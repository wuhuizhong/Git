{"version":3,"sources":["grid.extendToolbar.js"],"names":["extendGridToolbar","init","da","this","apex","debug","log","vGroup","action","attribute01","vPosition","attribute02","vLabel","attribute03","vHot","attribute04","vIcon","attribute05","vIconOnly","attribute06","vIconPosition","attribute07","vTitle","attribute08","vAction","attribute09","vDisabled","attribute10","vHidden","attribute11","vRegionId","affectedElements","id","vRegion$","jQuery","console","vWidget$","region","widget","toolbar","interactiveGrid","toolbarGroup","vaButton","type","label","title","labelKey","icon","iconOnly","iconBeforeLabel","hot","controls","unshift","push","vActions","vAction$","lookup","hide","disabled","add","name","event","element","trigger"],"mappings":";;;;;;;AAWA,IAAIA,mBAGFC,KAAM,WACJ,IAAIC,EAAKC,KACTC,KAAKC,MAAMC,IAAI,yBAAyBJ,GAGxC,IAAIK,EAAgBL,EAAGM,OAAOC,YAC1BC,EAAgBR,EAAGM,OAAOG,YAC1BC,EAAgBV,EAAGM,OAAOK,YAC1BC,EAAyC,KAAzBZ,EAAGM,OAAOO,YAC1BC,EAAgBd,EAAGM,OAAOS,YAC1BC,EAAyC,KAAzBhB,EAAGM,OAAOW,YAC1BC,EAAyC,KAAzBlB,EAAGM,OAAOa,YAC1BC,EAAgBpB,EAAGM,OAAOe,YAC1BC,EAAgBtB,EAAGM,OAAOiB,YAC1BC,EAAyC,KAAzBxB,EAAGM,OAAOmB,YAC1BC,EAAyC,KAAzB1B,EAAGM,OAAOqB,YAG1BC,EAAY5B,EAAG6B,iBAAiB,GAAGC,GACnCC,EAAW7B,KAAK8B,OAAOhC,EAAG6B,iBAAiB,IAE/CI,QAAQ7B,IAAIwB,GAIRd,IACFA,EAAQ,MAAMA,GAIhBmB,QAAQ7B,IAAI,QAEZ,IAAI8B,EAAWhC,KAAKiC,OAAOP,GAAWQ,SACtCH,QAAQ7B,IAAI8B,GAGZ,IAAIG,EAAUH,EAASI,gBAAgB,cAGnCC,EAAeF,EAAQA,QAAQ,YAAahC,GAE5CmC,GACFC,KAAM,SACNC,MAAOhC,EACPiC,MAAOvB,EACPwB,SAAUlC,EACVJ,OAAQgB,EACRuB,KAAM/B,EACNgC,SAAU9B,EACV+B,gBAAiB7B,EACjB8B,IAAKpC,GAIU,KAAbJ,EACF+B,EAAaU,SAASC,QAAQV,GAE9BD,EAAaU,SAASE,KAAKX,GAI7B,IAAIY,EAAWlB,EAASI,gBAAgB,cAGpCe,EAAWD,EAASE,OAAOhC,GAC3B+B,GAWDA,EAASE,KAAO7B,EAChB2B,EAASG,SAAWhC,GAXrB4B,EAASK,KAELC,KAASpC,EACThB,OAAS,SAASqD,EAAOC,GACvB1D,KAAKyD,MAAME,QAAQ9B,EAAUT,IAE/BiC,KAAK7B,EACL8B,SAAShC,IASfa,EAAQA,QAAQ","file":"grid.extendToolbar.min.js","sourcesContent":["/*!\n * apex-plugin-extendigtoolbar - Oracle APEX plugin\n * @author Marko Goricki\n * @version v1.0.0\n * @link https://github.com/mgoricki/apex-plugin-extend-ig-toolbar\n * @license MIT\n */\n/*\n * ChageLog:\n * v1.0.0 - 20171101 - Initial Release\n */\nvar extendGridToolbar = {\n\n  // Init Function\n  init: function(){\n    var da = this;\n    apex.debug.log('extendGridToolbar.init',da);\n\n    // get plugin attributes\n    var vGroup        = da.action.attribute01;\n    var vPosition     = da.action.attribute02; // F - first, L - last\n    var vLabel        = da.action.attribute03;\n    var vHot          = da.action.attribute04 == 'Y' ? true : false;\n    var vIcon         = da.action.attribute05;\n    var vIconOnly     = da.action.attribute06 == 'Y' ? true : false;\n    var vIconPosition = da.action.attribute07 == 'B' ? true : false;\n    var vTitle        = da.action.attribute08;\n    var vAction       = da.action.attribute09; // action\n    var vDisabled     = da.action.attribute10 == 'Y' ? true : false; // disable\n    var vHidden       = da.action.attribute11 == 'Y' ? true : false; // hidden\n\n    // get Region\n    var vRegionId = da.affectedElements[0].id;\n    var vRegion$ = apex.jQuery(da.affectedElements[0]);\n\n    console.log(vRegionId);\n\n    // check icon\n    // toDo: check if there's already fa class\n    if (vIcon){\n      vIcon = 'fa '+vIcon;\n    }  \n\n    var vActionName = 'my-custom-action';\n    console.log('test');\n    // Get Widget\n    var vWidget$ = apex.region(vRegionId).widget();\n    console.log(vWidget$);\n\n    // Grid created\n    var toolbar = vWidget$.interactiveGrid(\"getToolbar\");\n\n    // find toolbar group\n    var toolbarGroup = toolbar.toolbar('findGroup', vGroup);\n\n    var vaButton = {\n      type: 'BUTTON',\n      label: vLabel,\n      title: vTitle,\n      labelKey: vLabel, // label from text messages\n      action: vAction,\n      icon: vIcon,\n      iconOnly: vIconOnly,\n      iconBeforeLabel: vIconPosition,\n      hot: vHot\n    };\n\n    // add button\n    if (vPosition == 'F'){\n      toolbarGroup.controls.unshift(vaButton)\n    }else{\n      toolbarGroup.controls.push(vaButton);\n    };\n\n    // add actions\n    var vActions = vWidget$.interactiveGrid('getActions');\n\n    // check if action exists, then just assign it\n    var vAction$ = vActions.lookup(vAction);\n    if(!vAction$){\n      vActions.add(\n        {\n          name   : vAction\n        , action : function(event, element) {\n            apex.event.trigger(vRegion$, vAction);\n         }\n        , hide:vHidden\n        , disabled:vDisabled\n       });\n     }else{\n       vAction$.hide = vHidden;\n       vAction$.disabled = vDisabled;\n     }\n\n\n    // refresh grid\n    toolbar.toolbar('refresh');\n  }\n};\n\n//# sourceMappingURL=grid.extendToolbar.js.map\n\n//# sourceMappingURL=grid.extendToolbar.js.map\n"]}